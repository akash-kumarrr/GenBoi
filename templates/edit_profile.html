<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="{{ favicon }}">
<meta charset="UTF-8">
<title>{{ name }} | Edit Profile</title>

<style>
:root {
    --nv-green: #76b900;
    --nv-bg: #000000;
    --nv-border: #1a1a1a;
    --nv-input: #0a0a0a;
    --text-main: #ffffff;
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }

body {
    background-color: var(--nv-bg);
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--text-main);
}

.edit-card {
    width: 90vw;
    max-width: 450px;
    background: #0d0d0d;
    border: 1px solid var(--nv-border);
    border-radius: 28px;
    padding: 40px;
}

h2 {
    font-size: 1.2rem;
    margin-bottom: 25px;
    letter-spacing: 1px;
    color: var(--nv-green);
    text-transform: uppercase;
}

.form-group {
    margin-bottom: 20px;
    position: relative;
}

label {
    font-size: 0.7rem;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 8px;
    display: block;
}

input {
    width: 100%;
    background: var(--nv-input);
    border: 1px solid var(--nv-border);
    border-radius: 12px;
    padding: 12px 44px 12px 15px;
    color: white;
    font-size: 1rem;
    outline: none;
    transition: 0.3s;
}

input:focus {
    border-color: var(--nv-green);
    background: #111;
}

/* ===== PASSWORD TOGGLE (CLEAN Â· NO JS) ===== */
#togglePass {
    display: none;
}

.eye-btn {
    position: absolute;
    right: 14px;

    /* ðŸ”¥ FIX: true vertical centering */
    top: 50%;
    transform: translateY(-50%);

    cursor: pointer;
    color: #666;
}

.eye-btn svg {
    width: 20px;
    height: 20px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

/* toggle icons */
.eye-open { display: block; }
.eye-closed { display: none; }

#togglePass:checked ~ .eye-btn .eye-open {
    display: none;
}

#togglePass:checked ~ .eye-btn .eye-closed {
    display: block;
}
/* ======================================== */

.button-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 30px;
}

.btn {
    padding: 14px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    text-align: center;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border: none;
}

.btn-save { background: var(--nv-green); color: #000; }
.btn-cancel { background: transparent; color: white; border: 1px solid var(--nv-border); }

.btn:hover { filter: brightness(1.2); transform: translateY(-2px); }

@media (max-width: 480px) {
    .edit-card { padding: 25px; width: 90vw; }
    .button-group { grid-template-columns: 1fr; }
}
</style>
</head>

<body>

<div class="edit-card">
<h2>Edit Identity</h2>

<form method="POST" action="/profile/edit_profile/save_changes">

<div class="form-group">
<label>Full Name</label>
<input type="text" name="name" value="{{ name }}" required style="text-transform: capitalize;">
</div>

<div class="form-group">
<label>Email Address</label>
<input type="email" name="email" value="{{ email }}" required>
</div>

<!-- PASSWORD FIELD -->
<div class="form-group">
<label>Password</label>

<input type="checkbox" id="togglePass">

<input type="password" class="pass-password" name="password" value="{{ password }}" required>

<label for="togglePass" class="eye-btn">
    <!-- eye -->
    <svg class="eye-open" viewBox="0 0 24 24">
        <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/>
        <circle cx="12" cy="12" r="3"/>
    </svg>

    <!-- eye-off -->
    <svg class="eye-closed" viewBox="0 0 24 24">
        <path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7"/>
        <path d="M1 1l22 22"/>
    </svg>
</label>
</div>

<div class="button-group">
<a href="/profile" class="btn btn-cancel">Cancel</a>
<button action="/profile/edit_profile/save_changes" type="submit" class="btn btn-save">Save Changes</button>
</div>

</form>
</div>

<script>
    const toggler = document.getElementById('togglePass');
    const passwordInput = document.querySelector('.pass-password');

    toggler.addEventListener('change', function() {
        passwordInput.type = this.checked ? 'text' : 'password';
    });
</script>
</body>
</html>
